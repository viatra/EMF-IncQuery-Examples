<?xml version="1.0" encoding="ASCII"?>
<eMFPatternLanguage:PatternModel xmi:version="2.0" xmlns:xmi="http://www.omg.org/XMI" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:eMFPatternLanguage="http://www.eclipse.org/viatra2/patternlanguage/EMFPatternLanguage" xmlns:ecore="http://www.eclipse.org/emf/2002/Ecore" xmlns:patternLanguage="http://www.eclipse.org/viatra2/patternlanguage/core/PatternLanguage" xmlns:types="http://www.eclipse.org/xtext/common/JavaVMTypes" xmlns:xbase="http://www.eclipse.org/xtext/xbase/Xbase">
  <patterns name="school.CourseWithTeacher" fileName="platform:/resource/school.incquery/src/school/schoolvalidationrules.eiq">
    <annotations name="QueryExplorer">
      <parameters name="display">
        <value xsi:type="patternLanguage:BoolValue"/>
      </parameters>
    </annotations>
    <parameters name="C">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Course/teacher"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="_T"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.CourseWithoutTeacher" fileName="platform:/resource/school.incquery/src/school/schoolvalidationrules.eiq">
    <annotations name="Constraint">
      <parameters name="location">
        <value xsi:type="patternLanguage:StringValue" value="C"/>
      </parameters>
      <parameters name="message">
        <value xsi:type="patternLanguage:StringValue" value="$C.name$ does not have a teacher"/>
      </parameters>
      <parameters name="severity">
        <value xsi:type="patternLanguage:StringValue" value="warning"/>
      </parameters>
    </annotations>
    <parameters name="C">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint" negative="true">
        <call patternRef="//@patterns.0">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </parameters>
        </call>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.schools" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="Sch"/>
    <bodies>
      <constraints xsi:type="eMFPatternLanguage:EClassifierConstraint">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="http://school.ecore#//School"/>
        </type>
        <var var="Sch"/>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.schoolsNames" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="SchName"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//School"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//School/name"/>
            </type>
          </tail>
          <src var="_Sch"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SchName"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.teachers" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="T"/>
    <bodies>
      <constraints xsi:type="eMFPatternLanguage:EClassifierConstraint">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
        </type>
        <var var="T"/>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.teachersNames" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="TN"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Teacher/name"/>
            </type>
          </tail>
          <src var="_T"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="TN"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.teachersOfSchool" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="T">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
      </type>
    </parameters>
    <parameters name="Sch">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//School"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//School"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//School/teachers"/>
            </type>
          </tail>
          <src var="Sch"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.teachersOfSchoolNames" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="TName"/>
    <parameters name="SName"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//School"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//School/teachers"/>
            </type>
          </tail>
          <src var="Sch"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//School"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//School/name"/>
            </type>
          </tail>
          <src var="Sch"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SName"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Teacher/name"/>
            </type>
          </tail>
          <src var="T"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="TName"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.coursesOfTeacher" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="T"/>
    <parameters name="C"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Teacher/courses"/>
            </type>
          </tail>
          <src var="T"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.coursesOfTeacherNames" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="TName"/>
    <parameters name="CName"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Teacher/courses"/>
            </type>
          </tail>
          <src var="T"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Teacher/name"/>
            </type>
          </tail>
          <src var="T"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="TName"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Course/subject"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="CName"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.classesOfTeacher" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="T"/>
    <parameters name="SC"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
        <call patternRef="//@patterns.8">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </parameters>
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </parameters>
        </call>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Course/schoolClass"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SC"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.classesOfSchool" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="SC"/>
    <bodies>
      <constraints xsi:type="eMFPatternLanguage:EClassifierConstraint">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="http://school.ecore#//SchoolClass"/>
        </type>
        <var var="SC"/>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.classesOfTeacherNames" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="TName"/>
    <parameters name="SCName"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
        <call patternRef="//@patterns.8">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </parameters>
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </parameters>
        </call>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Teacher/name"/>
            </type>
          </tail>
          <src var="T"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="TName"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Course/schoolClass"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SC"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//SchoolClass"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//SchoolClass/code"/>
            </type>
          </tail>
          <src var="SC"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SCName"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.teacherWithoutClass" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="T">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint" negative="true">
        <call patternRef="//@patterns.10">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </parameters>
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="_SC"/>
          </parameters>
        </call>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.teacherWithoutClassNames" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="TNames"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint" negative="true">
        <call patternRef="//@patterns.10">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </parameters>
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="_SC"/>
          </parameters>
        </call>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Teacher/name"/>
            </type>
          </tail>
          <src var="T"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="TNames"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.studentOfSchool" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="S"/>
    <parameters name="Sch"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Student/schoolClass"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://school.ecore#//SchoolClass/courses"/>
              </type>
              <tail>
                <type xsi:type="eMFPatternLanguage:ReferenceType">
                  <refname xsi:type="ecore:EReference" href="http://school.ecore#//Course/school"/>
                </type>
              </tail>
            </tail>
          </tail>
          <src var="S"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="Sch"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.studentOfSchoolNames" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="SName"/>
    <parameters name="SchName"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Student/schoolClass"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://school.ecore#//SchoolClass/courses"/>
              </type>
              <tail>
                <type xsi:type="eMFPatternLanguage:ReferenceType">
                  <refname xsi:type="ecore:EReference" href="http://school.ecore#//Course/school"/>
                </type>
              </tail>
            </tail>
          </tail>
          <src var="S"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="Sch"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Student/name"/>
            </type>
          </tail>
          <src var="S"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SName"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//School"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//School/name"/>
            </type>
          </tail>
          <src var="Sch"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SchName"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.courseWithWeightThirty" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="C"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Course/weight"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:IntValue" value="30"/>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.courseWithNameLongerThanWeight" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="C"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Course/subject"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="CName"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Course/weight"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="W"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:CheckConstraint">
        <expression xsi:type="xbase:XBinaryOperation">
          <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.IntegerExtensions#org.eclipse.xtext.xbase.lib.IntegerExtensions.operator_greaterThan(int,int)"/>
          <leftOperand xsi:type="xbase:XMemberFeatureCall">
            <feature xsi:type="types:JvmOperation" href="java:/Objects/java.lang.String#java.lang.String.length()"/>
            <memberCallTarget xsi:type="xbase:XFeatureCall" feature="//@patterns.18/@bodies.0/@variables.1"/>
          </leftOperand>
          <rightOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.18/@bodies.0/@variables.2"/>
        </expression>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.courseWithNameLongerThanWeightInt" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="W"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Course/subject"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="CName"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Course/weight"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="W"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:CheckConstraint">
        <expression xsi:type="xbase:XBinaryOperation">
          <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.IntegerExtensions#org.eclipse.xtext.xbase.lib.IntegerExtensions.operator_greaterThan(int,int)"/>
          <leftOperand xsi:type="xbase:XMemberFeatureCall">
            <feature xsi:type="types:JvmOperation" href="java:/Objects/java.lang.String#java.lang.String.length()"/>
            <memberCallTarget xsi:type="xbase:XFeatureCall" feature="//@patterns.19/@bodies.0/@variables.2"/>
          </leftOperand>
          <rightOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.19/@bodies.0/@variables.0"/>
        </expression>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.courseWithPrimeWeight" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="C"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Course/weight"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="W"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:CheckConstraint">
        <expression xsi:type="xbase:XBlockExpression">
          <expressions xsi:type="xbase:XIfExpression">
            <if xsi:type="xbase:XBinaryOperation">
              <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.IntegerExtensions#org.eclipse.xtext.xbase.lib.IntegerExtensions.operator_equals(int,int)"/>
              <leftOperand xsi:type="xbase:XBinaryOperation">
                <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.IntegerExtensions#org.eclipse.xtext.xbase.lib.IntegerExtensions.operator_modulo(int,int)"/>
                <leftOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.20/@bodies.0/@variables.1"/>
                <rightOperand xsi:type="xbase:XNumberLiteral" value="2"/>
              </leftOperand>
              <rightOperand xsi:type="xbase:XNumberLiteral" value="0"/>
            </if>
            <then xsi:type="xbase:XBooleanLiteral"/>
            <else xsi:type="xbase:XBlockExpression">
              <expressions xsi:type="xbase:XVariableDeclaration" name="maxValue" writeable="true">
                <type xsi:type="types:JvmParameterizedTypeReference">
                  <type xsi:type="types:JvmGenericType" href="java:/Objects/java.lang.Integer#java.lang.Integer"/>
                </type>
                <right xsi:type="xbase:XFeatureCall" explicitOperationCall="true">
                  <feature xsi:type="types:JvmOperation" href="java:/Objects/java.lang.Math#java.lang.Math.round(float)"/>
                  <featureCallArguments xsi:type="xbase:XConstructorCall">
                    <constructor href="java:/Objects/java.lang.Float#java.lang.Float.Float(double)"/>
                    <arguments xsi:type="xbase:XFeatureCall" explicitOperationCall="true">
                      <feature xsi:type="types:JvmOperation" href="java:/Objects/java.lang.Math#java.lang.Math.sqrt(double)"/>
                      <featureCallArguments xsi:type="xbase:XFeatureCall" feature="//@patterns.20/@bodies.0/@variables.1"/>
                      <declaringType xsi:type="types:JvmGenericType" href="java:/Objects/java.lang.Math#java.lang.Math"/>
                    </arguments>
                  </featureCallArguments>
                  <declaringType xsi:type="types:JvmGenericType" href="java:/Objects/java.lang.Math#java.lang.Math"/>
                </right>
              </expressions>
              <expressions xsi:type="xbase:XVariableDeclaration" name="divisor" writeable="true">
                <type xsi:type="types:JvmParameterizedTypeReference">
                  <type xsi:type="types:JvmGenericType" href="java:/Objects/java.lang.Integer#java.lang.Integer"/>
                </type>
                <right xsi:type="xbase:XNumberLiteral" value="3"/>
              </expressions>
              <expressions xsi:type="xbase:XWhileExpression">
                <predicate xsi:type="xbase:XBinaryOperation">
                  <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.ComparableExtensions#org.eclipse.xtext.xbase.lib.ComparableExtensions.operator_lessEqualsThan(java.lang.Comparable,C)"/>
                  <leftOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.20/@bodies.0/@constraints.1/@expression/@expressions.0/@else/@expressions.1"/>
                  <rightOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.20/@bodies.0/@constraints.1/@expression/@expressions.0/@else/@expressions.0"/>
                </predicate>
                <body xsi:type="xbase:XBlockExpression">
                  <expressions xsi:type="xbase:XIfExpression">
                    <if xsi:type="xbase:XBinaryOperation">
                      <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.IntegerExtensions#org.eclipse.xtext.xbase.lib.IntegerExtensions.operator_equals(int,int)"/>
                      <leftOperand xsi:type="xbase:XBinaryOperation">
                        <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.IntegerExtensions#org.eclipse.xtext.xbase.lib.IntegerExtensions.operator_modulo(int,int)"/>
                        <leftOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.20/@bodies.0/@variables.1"/>
                        <rightOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.20/@bodies.0/@constraints.1/@expression/@expressions.0/@else/@expressions.1"/>
                      </leftOperand>
                      <rightOperand xsi:type="xbase:XNumberLiteral" value="0"/>
                    </if>
                    <then xsi:type="xbase:XReturnExpression">
                      <expression xsi:type="xbase:XBooleanLiteral"/>
                    </then>
                    <else xsi:type="xbase:XAssignment" feature="//@patterns.20/@bodies.0/@constraints.1/@expression/@expressions.0/@else/@expressions.1">
                      <value xsi:type="xbase:XBinaryOperation">
                        <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.IntegerExtensions#org.eclipse.xtext.xbase.lib.IntegerExtensions.operator_plus(int,int)"/>
                        <leftOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.20/@bodies.0/@constraints.1/@expression/@expressions.0/@else/@expressions.1"/>
                        <rightOperand xsi:type="xbase:XNumberLiteral" value="2"/>
                      </value>
                    </else>
                  </expressions>
                </body>
              </expressions>
              <expressions xsi:type="xbase:XBooleanLiteral" isTrue="true"/>
            </else>
          </expressions>
        </expression>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.teachesMoreClasses" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <annotations name="QueryExplorer">
      <parameters name="display">
        <value xsi:type="patternLanguage:BoolValue"/>
      </parameters>
    </annotations>
    <parameters name="T1">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
      </type>
    </parameters>
    <parameters name="T2">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="N"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:AggregatedValue">
          <aggregator xsi:type="patternLanguage:CountAggregator"/>
          <call patternRef="//@patterns.10">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="T1"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="_SC1"/>
            </parameters>
          </call>
        </rightOperand>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:AggregatedValue">
          <aggregator xsi:type="patternLanguage:CountAggregator"/>
          <call patternRef="//@patterns.10">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="T2"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="_SC2"/>
            </parameters>
          </call>
        </rightOperand>
      </constraints>
      <constraints xsi:type="patternLanguage:CheckConstraint">
        <expression xsi:type="xbase:XBinaryOperation">
          <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.ComparableExtensions#org.eclipse.xtext.xbase.lib.ComparableExtensions.operator_greaterThan(java.lang.Comparable,C)"/>
          <leftOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.21/@bodies.0/@variables.2"/>
          <rightOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.21/@bodies.0/@variables.4"/>
        </expression>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.teachesTheMostCourses" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="T">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint" negative="true">
        <call patternRef="//@patterns.21">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="_Tx"/>
          </parameters>
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </parameters>
        </call>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.friendlyTo" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <annotations name="QueryExplorer">
      <parameters name="display">
        <value xsi:type="patternLanguage:BoolValue"/>
      </parameters>
    </annotations>
    <parameters name="S1">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
      </type>
    </parameters>
    <parameters name="S2">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Student/friendsWith"/>
            </type>
          </tail>
          <src var="S1"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="S2"/>
          </dst>
        </head>
      </constraints>
    </bodies>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Student/friendsWith"/>
            </type>
          </tail>
          <src var="S2"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="S1"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.inTheCircleOfFriends" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="S1">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
      </type>
    </parameters>
    <parameters name="Someone">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
        <call patternRef="//@patterns.23" transitive="true">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="S1"/>
          </parameters>
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="Someone"/>
          </parameters>
        </call>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint" feature="!=">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="S1"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:VariableValue">
          <value var="Someone"/>
        </rightOperand>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.inTheCircleOfFriendsNames" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="S1Name"/>
    <parameters name="SomeoneName"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
        <call patternRef="//@patterns.23" transitive="true">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="S1"/>
          </parameters>
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="Someone"/>
          </parameters>
        </call>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint" feature="!=">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="S1"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:VariableValue">
          <value var="Someone"/>
        </rightOperand>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Student/name"/>
            </type>
          </tail>
          <src var="S1"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="S1Name"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Student/name"/>
            </type>
          </tail>
          <src var="Someone"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SomeoneName"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.moreFriendsThan" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <annotations name="QueryExplorer">
      <parameters name="display">
        <value xsi:type="patternLanguage:BoolValue"/>
      </parameters>
    </annotations>
    <parameters name="S1">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
      </type>
    </parameters>
    <parameters name="S2">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="N"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:AggregatedValue">
          <aggregator xsi:type="patternLanguage:CountAggregator"/>
          <call patternRef="//@patterns.24">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="S1"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="_Sx1"/>
            </parameters>
          </call>
        </rightOperand>
      </constraints>
      <constraints xsi:type="patternLanguage:CompareConstraint">
        <leftOperand xsi:type="patternLanguage:VariableValue">
          <value var="M"/>
        </leftOperand>
        <rightOperand xsi:type="patternLanguage:AggregatedValue">
          <aggregator xsi:type="patternLanguage:CountAggregator"/>
          <call patternRef="//@patterns.24">
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="S2"/>
            </parameters>
            <parameters xsi:type="patternLanguage:VariableValue">
              <value var="_Sx2"/>
            </parameters>
          </call>
        </rightOperand>
      </constraints>
      <constraints xsi:type="patternLanguage:CheckConstraint">
        <expression xsi:type="xbase:XBinaryOperation">
          <feature xsi:type="types:JvmOperation" href="java:/Objects/org.eclipse.xtext.xbase.lib.ComparableExtensions#org.eclipse.xtext.xbase.lib.ComparableExtensions.operator_greaterThan(java.lang.Comparable,C)"/>
          <leftOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.26/@bodies.0/@variables.2"/>
          <rightOperand xsi:type="xbase:XFeatureCall" feature="//@patterns.26/@bodies.0/@variables.4"/>
        </expression>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.theOnesWithTheBiggestCircle" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="S">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint" negative="true">
        <call patternRef="//@patterns.26">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="_Sx"/>
          </parameters>
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="S"/>
          </parameters>
        </call>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.theOnesWithTheBiggestCircleName" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="SName"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint" negative="true">
        <call patternRef="//@patterns.26">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="_Sx"/>
          </parameters>
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="S"/>
          </parameters>
        </call>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Student/name"/>
            </type>
          </tail>
          <src var="S"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SName"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.finalPattern" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <annotations name="QueryExplorer">
      <parameters name="message">
        <value xsi:type="patternLanguage:StringValue" value="The busiest teacher $T.name$ taught the most sociable student $S.name$ in $Y.startingDate$"/>
      </parameters>
    </annotations>
    <annotations name="ObservableValue">
      <parameters name="name">
        <value xsi:type="patternLanguage:StringValue" value="Year"/>
      </parameters>
      <parameters name="expression">
        <value xsi:type="patternLanguage:StringValue" value="Y.startingDate"/>
      </parameters>
    </annotations>
    <annotations name="ObservableValue">
      <parameters name="name">
        <value xsi:type="patternLanguage:StringValue" value="Teacher"/>
      </parameters>
      <parameters name="expression">
        <value xsi:type="patternLanguage:StringValue" value="T.name"/>
      </parameters>
    </annotations>
    <annotations name="ObservableValue">
      <parameters name="name">
        <value xsi:type="patternLanguage:StringValue" value="Student"/>
      </parameters>
      <parameters name="expression">
        <value xsi:type="patternLanguage:StringValue" value="S.name"/>
      </parameters>
    </annotations>
    <annotations name="Handler">
      <parameters name="fileExtension">
        <value xsi:type="patternLanguage:StringValue" value="school"/>
      </parameters>
    </annotations>
    <parameters name="Y">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Year"/>
      </type>
    </parameters>
    <parameters name="C">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
      </type>
    </parameters>
    <parameters name="T">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
      </type>
    </parameters>
    <parameters name="S">
      <type xsi:type="eMFPatternLanguage:ClassType">
        <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
      </type>
    </parameters>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Year"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Year/schoolClasses"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://school.ecore#//SchoolClass/courses"/>
              </type>
            </tail>
          </tail>
          <src var="Y"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Course/teacher"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Student/schoolClass"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://school.ecore#//SchoolClass/courses"/>
              </type>
            </tail>
          </tail>
          <src var="S"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
        <call patternRef="//@patterns.27">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="S"/>
          </parameters>
        </call>
      </constraints>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
        <call patternRef="//@patterns.22">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </parameters>
        </call>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.finalPattern2" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <annotations name="QueryExplorer">
      <parameters name="message">
        <value xsi:type="patternLanguage:StringValue" value="The busiest teacher $TName$ taught the most sociable student $SName$ in $YDate$"/>
      </parameters>
    </annotations>
    <annotations name="ObservableValue">
      <parameters name="name">
        <value xsi:type="patternLanguage:StringValue" value="Year"/>
      </parameters>
      <parameters name="expression">
        <value xsi:type="patternLanguage:StringValue" value="YDate"/>
      </parameters>
    </annotations>
    <annotations name="ObservableValue">
      <parameters name="name">
        <value xsi:type="patternLanguage:StringValue" value="Teacher"/>
      </parameters>
      <parameters name="expression">
        <value xsi:type="patternLanguage:StringValue" value="TName"/>
      </parameters>
    </annotations>
    <annotations name="ObservableValue">
      <parameters name="name">
        <value xsi:type="patternLanguage:StringValue" value="Student"/>
      </parameters>
      <parameters name="expression">
        <value xsi:type="patternLanguage:StringValue" value="SName"/>
      </parameters>
    </annotations>
    <annotations name="Handler">
      <parameters name="fileExtension">
        <value xsi:type="patternLanguage:StringValue" value="school"/>
      </parameters>
    </annotations>
    <parameters name="YDate"/>
    <parameters name="CSub"/>
    <parameters name="TName"/>
    <parameters name="SName"/>
    <bodies>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Year"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Year/schoolClasses"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://school.ecore#//SchoolClass/courses"/>
              </type>
            </tail>
          </tail>
          <src var="Y"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Course/teacher"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EReference" href="http://school.ecore#//Student/schoolClass"/>
            </type>
            <tail>
              <type xsi:type="eMFPatternLanguage:ReferenceType">
                <refname xsi:type="ecore:EReference" href="http://school.ecore#//SchoolClass/courses"/>
              </type>
            </tail>
          </tail>
          <src var="S"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="C"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
        <call patternRef="//@patterns.27">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="S"/>
          </parameters>
        </call>
      </constraints>
      <constraints xsi:type="patternLanguage:PatternCompositionConstraint">
        <call patternRef="//@patterns.22">
          <parameters xsi:type="patternLanguage:VariableValue">
            <value var="T"/>
          </parameters>
        </call>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Year"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Year/startingDate"/>
            </type>
          </tail>
          <src var="Y"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="YDate"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Course"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Course/subject"/>
            </type>
          </tail>
          <src var="C"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="CSub"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Teacher"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Teacher/name"/>
            </type>
          </tail>
          <src var="T"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="TName"/>
          </dst>
        </head>
      </constraints>
      <constraints xsi:type="patternLanguage:PathExpressionConstraint">
        <head>
          <type xsi:type="eMFPatternLanguage:ClassType">
            <classname xsi:type="ecore:EClass" href="http://school.ecore#//Student"/>
          </type>
          <tail>
            <type xsi:type="eMFPatternLanguage:ReferenceType">
              <refname xsi:type="ecore:EAttribute" href="http://school.ecore#//Student/name"/>
            </type>
          </tail>
          <src var="S"/>
          <dst xsi:type="patternLanguage:VariableValue">
            <value var="SName"/>
          </dst>
        </head>
      </constraints>
    </bodies>
  </patterns>
  <patterns name="school.SomeCourse" fileName="platform:/resource/school.incquery/src/school/schoolqueries.eiq">
    <parameters name="C"/>
    <bodies>
      <constraints xsi:type="eMFPatternLanguage:EClassifierConstraint">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="http://school.ecore#//SpecialisationCourse"/>
        </type>
        <var var="C"/>
      </constraints>
    </bodies>
    <bodies>
      <constraints xsi:type="eMFPatternLanguage:EClassifierConstraint">
        <type xsi:type="eMFPatternLanguage:ClassType">
          <classname xsi:type="ecore:EClass" href="http://school.ecore#//LimitedCapacityCourse"/>
        </type>
        <var var="C"/>
      </constraints>
    </bodies>
  </patterns>
  <importPackages>
    <ePackage href="http://school.ecore#/"/>
  </importPackages>
</eMFPatternLanguage:PatternModel>
